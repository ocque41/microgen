.story-stack {
  display: flex;
  flex-direction: column;
  gap: clamp(var(--brand-space-xl), 5vw, var(--brand-space-2xl));
  padding-inline: clamp(var(--brand-space-md), 8vw, var(--brand-space-2xl));
  padding-block: clamp(var(--brand-space-xl), 6vw, calc(var(--brand-space-2xl) * 1.5));
}

.story-section {
  position: relative;
  min-height: 140vh;
  display: flex;
  align-items: stretch;
}

.story-shell {
  display: grid;
  grid-template-columns: 1fr;
  gap: clamp(var(--brand-space-lg), 4vw, var(--brand-space-2xl));
  max-width: min(1080px, 100%);
  margin-inline: auto;
  width: 100%;
}

@media (min-width: 1024px) {
  .story-shell {
    grid-template-columns: minmax(260px, 0.42fr) minmax(0, 0.58fr);
  }
}

.story-copy {
  position: sticky;
  top: clamp(6rem, 12vh, 9rem);
  align-self: start;
  display: grid;
  gap: var(--brand-space-md);
  padding: clamp(var(--brand-space-lg), 3vw, var(--brand-space-2xl));
  border-radius: var(--radius-xl);
  border: 1px solid color-mix(in srgb, var(--border-glass) 90%, transparent);
  background: color-mix(in srgb, var(--surface-glass) 92%, transparent 8%);
  backdrop-filter: saturate(var(--glass-sat)) blur(var(--glass-blur));
  box-shadow: var(--shadow-lg);
  color: var(--text-primary);
}

.story-eyebrow {
  font-size: clamp(0.65rem, 0.6rem + 0.3vw, 0.75rem);
  letter-spacing: 0.32em;
  text-transform: uppercase;
  color: color-mix(in srgb, var(--text-muted) 85%, transparent);
}

.story-heading {
  font-size: clamp(1.9rem, 1.4rem + 1.4vw, 2.75rem);
  line-height: 1.15;
  font-weight: 600;
  color: var(--text-primary);
}

.story-description {
  font-size: clamp(0.95rem, 0.9rem + 0.3vw, 1.1rem);
  color: var(--text-muted);
}

.story-progress {
  display: inline-flex;
  align-items: center;
  gap: var(--brand-space-2xs);
  font-size: 0.72rem;
  letter-spacing: 0.28em;
  text-transform: uppercase;
  color: color-mix(in srgb, var(--text-muted) 70%, transparent);
}

.story-progress-index {
  font-weight: 600;
  color: var(--accent-primary);
}

.story-steps {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  gap: clamp(var(--brand-space-lg), 4vw, calc(var(--brand-space-xl) * 1.1));
}

.story-step {
  position: relative;
  display: flex;
  flex-direction: column;
  gap: var(--brand-space-sm);
  border-radius: var(--radius-xl);
  padding: clamp(var(--brand-space-lg), 3vw, var(--brand-space-2xl));
  border: 1px solid color-mix(in srgb, var(--border-glass) 96%, transparent);
  background: color-mix(in srgb, var(--surface-glass) 96%, transparent 6%);
  color: var(--text-primary);
  box-shadow: var(--shadow-lg);
  overflow: hidden;
  isolation: isolate;
  transform-origin: center;
  animation-name: scroll-fade-in-up;
}

.story-step::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: linear-gradient(
    140deg,
    color-mix(in srgb, var(--accent-primary) 18%, transparent) 0%,
    transparent 55%,
    color-mix(in srgb, var(--accent-primary) 10%, transparent) 100%
  );
  opacity: 0.45;
  filter: blur(0.4rem);
  pointer-events: none;
  mix-blend-mode: screen;
  z-index: 0;
}

.story-step-glow {
  position: absolute;
  inset: -20%;
  border-radius: 999px;
  background: radial-gradient(
    circle at 20% 20%,
    color-mix(in srgb, var(--accent-primary) 35%, transparent) 0%,
    transparent 65%
  );
  opacity: 0.32;
  transform: translate3d(0, 18%, 0);
  filter: blur(40px);
  z-index: 0;
  animation-name: story-parallax;
}

.story-step-content {
  position: relative;
  z-index: 1;
  display: grid;
  gap: var(--brand-space-sm);
}

.story-step-meta {
  display: flex;
  flex-wrap: wrap;
  gap: var(--brand-space-2xs);
  align-items: baseline;
  font-size: 0.78rem;
  letter-spacing: 0.24em;
  text-transform: uppercase;
  color: color-mix(in srgb, var(--text-muted) 75%, transparent);
}

.story-step-index {
  font-weight: 600;
  color: var(--accent-primary);
}

.story-step-metric {
  font-weight: 500;
  letter-spacing: 0.12em;
  color: color-mix(in srgb, var(--text-primary) 80%, transparent);
  background: color-mix(in srgb, var(--accent-soft) 35%, transparent);
  border-radius: var(--radius-md);
  padding: 0.2rem 0.7rem;
}

.story-step-title {
  font-size: clamp(1.25rem, 1.1rem + 0.7vw, 1.75rem);
  font-weight: 600;
  letter-spacing: -0.01em;
}

.story-step-description {
  font-size: clamp(0.95rem, 0.9rem + 0.25vw, 1.05rem);
  color: var(--text-muted);
  max-width: 60ch;
}

@keyframes story-parallax {
  from {
    opacity: 0.18;
    transform: translate3d(0, 18%, 0) scale3d(0.88, 0.88, 1);
  }

  to {
    opacity: 0.48;
    transform: translate3d(0, -12%, 0) scale3d(1, 1, 1);
  }
}

@media (prefers-reduced-motion: reduce) {
  .story-stack {
    gap: var(--brand-space-xl);
  }

  .story-section {
    min-height: auto;
  }

  .story-step,
  .story-step-glow {
    animation: none !important;
    transform: none !important;
    opacity: 1 !important;
  }

  .story-step::before {
    opacity: 0.25;
  }
}

.motion-disabled .story-step,
.motion-disabled.story-step,
.motion-disabled .story-step-glow,
.motion-disabled.story-step-glow {
  animation: none !important;
  transform: none !important;
  opacity: 1 !important;
}

.motion-disabled .story-section,
.motion-disabled.story-section {
  min-height: auto;
}

